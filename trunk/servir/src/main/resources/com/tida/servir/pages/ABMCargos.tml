<html t:type="layout" title="Servir - Cargos"
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd"
      xmlns:p="tapestry:parameter">

    <div class="organismo_titulo">
        Entidad /U. Ejecutora: ${entidadUE.denominacion}
    </div>

    <h2>Administración de Cargos / Puestos</h2>

    <div id="mainfiltros" class="pane">

        <!-- t:validate="required,minlength=1" -->

        <div id="cargosSelects">
            <t:zone t:id="nivelcargo">
                <form t:type="form" t:id="formNivelUOCargo" t:zone="nivelUOZone">
                    <div class="f-left">
                        Nivel Organizacional
                        <input t:type="Select" t:id="unidadorganica_nivel"
                               onChange="this.form.fire(Tapestry.FORM_PROCESS_SUBMIT_EVENT)" 
                               t:value="nivel" model="beanNivel" t:zone="nivelUOZone"/>
                    </div>
                </form>
            </t:zone>
            <t:zone t:id="nivelUOZone">
                <form t:type="form" t:id="xxx" t:zone="listaCargo">
                   <!-- <div t:type="zone" t:id="selectUOZone" class="selectform t-zone f-left" >-->
                        <!--<t:if test = "hayNivel">-->
                            <div class="f-left">
                            Unidad Orgánica
                            <select t:type="select" t:id="select_unidadOrganica"
                                    model="beanUOrganicas" encoder="beanUOrganicas" value="uo"
                                    onChange="this.form.fire()" t:zone="listaCargo"/>
                            </div>
                        
                        <!--</t:if>-->
                    <!--</div>-->
                </form>
            </t:zone>
        </div>
          
          <div t:type="zone"  id="form_unidad_organica" class="abmform">  
            <t:zone t:id="filtrosZone" >            
                <form t:type="form" t:id="formulariofiltrocargo" zone="listaCargo">
                    <div class="f-wrap">
                        <div class="f-left">
                            Denominación
                            <input t:type="TextField" t:id="bdenocargo" t:value="bdcargo" size="30"/> 
                        </div>
                        <div class="f-left">
                            Situación CAP
                            <input t:type="Select" t:id="bsituacioncap" t:value="valsituacioncap" model="beanDatoSituacionCAP" />
                        </div> 
                    </div>
                    <div class="actions f-right">
                        
                        <!--<a t:type="eventLink" t:event="muestra" t:context="valsituacioncap" t:zone="filtrosZone" href="#">Mostra Todo</a>-->
                       <input t:type="Submit" t:id="muestra" value="Mostrar Todo" class="button"/>
                       <input id="buscarsubmit" type="submit" value="Buscar" class="button"/>
                       <input t:type="Submit" t:id="clear" value="Limpiar formulario" t:mixins="confirm" page="ABMCargos" class="button"/>  
                    </div>   
                </form>   
            </t:zone>
          </div>
        <div id = "ocupacionalescargoxx">
                <t:zone t:id="BOcupacionalesZone" >            
                    <form t:type="form" t:id="formBOcupacional" t:zone="BOcupacionalesZone">
                        <input t:type="RegimenesGruposNiveles" t:id="bregimengruponivel" t:regimengruponivel="bregimengruponivel"
                               t:zone="BOcupacionalesZone" t:zoneName="BOcupacionalesZone"/>
                    </form>                 
                </t:zone>    
        </div>
  
            
        
    </div> 
    
   <div t:type="zone" t:id="listaCargo" class="selectform" >
        <t:if test="mostrar">  
            <t:form t:id="formlistaunidad">                
                ${errorBorrar}
                <div id = "tabla_cargo">
                    <t:grid source="cargos" rowsPerPage="10" t:add="Acciones" pagerPosition="bottom"
                            row="c" exclude= "situacioncap,esorganico,supervisapersonal,und_organica,dec_jurada_byr, estado, nivel_unidad_organica,ctd_puestos_total,presupuestado_PAP">
                        <t:parameter name="empty">
                            <div class="no-info">No se han encontrado coincidencias</div>
                        </t:parameter>
                        <p:accionesCell>
                            <t:if test="${veditar}">
                                <t:actionlink t:id="editar" zone="listaCargo" context="c">Editar</t:actionlink>
                            </t:if>
                            <t:if test="${veditar}" negate="true">
                                <t:actionlink t:id="detalle" zone="listaCargo" context="c">Ver Detalle</t:actionlink>
                            </t:if>
                                <!--
                                <a t:type="pagelink" t:page="ABMCargos" t:context="c.id" href="#">Editar</a>
                                --> 
                            <t:if test="${veliminar}">    
                                | <a t:type="eventLink" t:event="borrarDato" t:context="c"
                                     t:zone="listaCargo" href="#"><span t:type="any" t:mixins="Confirm" t:message="¿Desea eliminar el registro?">
                                    Eliminar
                                    </span> </a>
                            </t:if>
                        </p:accionesCell>
                    </t:grid>
                </div>
                <t:envelope t:id="envelope"/>
            </t:form>
        </t:if>
     </div> <!-- tabla cargos -->
    <div class="f-wrap">


    </div> 
     
    
        <div class="box" id="box-cargos">
          <div t:type="zone" t:id="abmZone" class="abmform">
            <t:if test="${vformulario}">
            <h3> Crear / Editar Cargo </h3>
            <t:form t:id="formularioaltacargo" zone="abmZone">                
                <t:errors/>                   
                    
                        
                        <!-- <div id="cargos_izq" class="cargosAM">-->
                        <!--<div id="cargos_izq" class="cargosAM">-->
                        <div class="f-wrap">
                            <!--<div class="f-left">
                                <label>* Nivel Organizacional</label>
                                <input t:type="Select" t:id="cargo_nivel" model="beanNivel" t:value="nivel"/>
                            </div>-->

                            <div class="f-left">
                                <label>* Unidad Orgánica</label>
                                <input t:type="Select" t:id="cargo_unidadorganica" model="beanUOrganicas2" encoder="beanUOrganicas2" t:value="cargo.unidadorganica" t:disabled="${vdetalle}"/>
                            </div>
                            <div class="f-left">
                                <label>* Código</label>
                                <input t:type="TextField" t:id="cargo_cod_cargo"
                                       t:value="cargo.cod_cargo" size="30" t:validate="required" t:disabled="${vdetalle}"/>
                            </div>
                            <div class="f-left">
                                <label>* Denominación</label>
                                <input t:type="TextField" t:id="cargo_den_cargo"
                                       t:value="cargo.den_cargo" size="30" t:validate="required, maxlength=30" t:disabled="${vdetalle}"/>
                            </div>                            



                            <!-- <div class="f-left">
                                <label>Estado</label>
                                <input t:type="Select" t:id="cargo_estado" model="estado"
                                t:value="cargo.estado"/>
                            </div>-->
                        </div> <!-- div f-wrap -->
                        <!--</div>-->

                        <div class ="f-wrap">
                            <div class="f-left">
                                <label>Situación CAP</label>
                                <input t:type="Select" t:id="cargo_situacioncap" t:value="cargo.situacioncap" model="beanDatoSituacionCAP" t:disabled="${vdetalle}"/>
                            </div>
                            <div class="f-left">                            
                                <label>Supervisa Personal</label>
                                <input t:type="Checkbox" t:id="cargo_supervisapersonal" t:value="cargo.supervisapersonal" t:disabled="${vdetalle}"/>                              
                            </div>  
                        </div> 

                        <!-- <div class="f-wrap">
                            <div class="f-left">              
                                <label>Régimen Laboral /Contractual</label>
                                <input t:type="Select" t:id="cargo_reg_lab_con" model="regimen"
                                t:value="cargo.reg_lab_con"/>
                            </div>
                        </div> -->
                        <!--</div>-->
                        <!--<div id="cargos_der" class="cargosAM">-->

                        <div class="f-wrap">
                            <div class="f-left">
                                    <label>* Presenta Declaración Jurada de Bienes y Rentas</label>
                                    <t:radiogroup t:id="cargo_dec_jurada_byr" t:value="cargo.dec_jurada_byr" t:validate="required">
                                        <label><t:radio t:id="de1" t:value="true" t:disabled="${vdetalle}"/> Si <t:radio t:id="de2" t:value="false" t:disabled="${vdetalle}"/> No</label>
                                    </t:radiogroup>                                                               
                            </div>
                            <div class="f-left">                                
                                <label>* Presupuestado en PAP</label>
                                <t:radiogroup t:id="cargo_presupuestado_PAP" t:value="cargo.presupuestado_PAP" t:validate="required">
                                    <label><t:radio t:id="pa1" t:value="true" t:disabled="${vdetalle}"/> Si <t:radio t:id="pa2" t:value="false" t:disabled="${vdetalle}"/> No</label>
                                </t:radiogroup>
                            </div>
                            <div class="f-left">                                
                                <label>* Es Organico</label>   
                                <t:radiogroup t:id="cargo_esorganico" t:value="cargo.esorganico" t:validate="required">
                                    <label><t:radio t:id="o1" t:value="true" t:disabled="${vdetalle}"/> Si <t:radio t:id="o2" t:value="false" t:disabled="${vdetalle}"/> No</label>
                                </t:radiogroup>
                            </div>
                            <!--<div class="f-left">
                                <label>Clasificación funcional</label>
                                <input t:type="Select" t:id="cargo_clasificacion_funcional" model="codFunCargo"
                                       t:value="cargo.clasificacion_funcional"/>
                            </div>
                            <div class="f-left">
                                <label>Horas semanales</label>
                                <input t:type="TextField" t:id="cargo_horas_x_sem"
                                       t:value="cargo.horas_x_sem" size="2"/>
                            </div>-->              
                        </div>


                        <!--<div id="cargos_der" class="cargosAM">-->

                        <!--<div class="f-left checkbox">
                            <label>Tiene personas a cargo</label>
                            <input t:type="Checkbox" t:id="cargo_personasCargo"
                                   t:value="cargo.personasCargo"/>
                        </div>-->
                        <!--</div>--> <!-- div f-wrap -->
                        <!-- </div> --><!-- div der -->
                     <t:if test="${vbotones}">
                        <div class="actions f-right">
                            <!--<input id="submit" type="submit" value="Grabar" class="button f-right"/>-->
                            <input t:type="Submit" t:id="save" value="Guardar" t:mixins="confirm" page="ABMCargos" class="button"/> 
                            <input t:type="Submit" t:id="cancel" value="Cancelar" t:mixins="confirm" page="ABMCargos" class="button" /> 
                            <input t:type="Submit" t:id="reset" value="Limpiar formulario" t:mixins="confirm" page="ABMCargos" class="button"/>  
                        </div>
                     </t:if>
                        <br style="clear: both;" />
                </t:form> 
            </t:if>
            </div> <!-- div box -->
                 <!-- puedeEditar -->
                  
    </div> <!-- abmZone -->

    <div id = "ocupacionalescargo">
        <t:zone t:id="OcupacionalesZone"> 
            <t:if test="${vformulario}">
                    <form t:type="form" t:id="formOcupacional" t:zone="OcupacionalesZone">
                        <input t:type="RegimenesGruposNiveles" t:id="regimengruponivel" t:regimengruponivel="regimengruponivel"
                               t:zone="OcupacionalesZone" t:zoneName="OcupacionalesZone" t:disabled="${vdetalle}"/>
                    </form>
            </t:if>
                    <!-- <form t:type="form" t:id="formOcupacional" t:zone="OcupacionalesZone">
                        <input t:type="Ocupacionales" t:id="ocupacional" t:ocupacional="ocupacional"
                        t:zone="OcupacionalesZone" t:zoneName="OcupacionalesZone" disabled ="noeditable"/>
                    </form> -->
 
        </t:zone>
    </div>

</html>