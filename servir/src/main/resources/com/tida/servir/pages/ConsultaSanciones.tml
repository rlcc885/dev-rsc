<html t:type="layout" title="Sistema SERVIR"
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd"    
      xmlns:p="tapestry:parameter">
          
          
 <div class="box-background-title">
      <span class="box-title">Consulta de Sancionados</span>
 </div>
 
  <div class="box">
      <t:zone t:id="consultaSancionesZone">
          <t:form t:id="formularioconsultasanciones" zone="consultaSancionesZone">
              <t:errors/>
              <fieldset>
                  <legend>Por Entidad / Sub Entidad</legend> 
                  <div class="f-left">    
                        <label>Entidad/Sub Entidad</label>
                        <input t:type="TextField" t:id="entidad_den"
                                    t:value="entidad_origen" disabled="true" style="width:500px;"/>                            
                  </div>
                  <div class="f-left" style="position:relative; top:14px; left:-10px;">
                        <input id="buscarsubmit" type="submit" value="..." class="button"  onClick="javascript: mostrar();"/>
                  </div>
              </fieldset>
              <fieldset>
                  <legend>Datos Personales</legend> 
                    <div class="f-wrap"> 
                        <div class="f-left">
                            <t:label for="nombres"/>
                            <input t:type="TextField" t:id="nombres" t:value="bnombres" size="33" t:validate="maxlength=150"  t:zone="consultaSancionesZone"/>
                         </div>
                         <div class="f-left">
                            <t:label for="apellidoPaterno" />
                            <input t:type="TextField" t:id="apellidoPaterno" t:value="bapellidoPaterno" size="33" t:validate="maxlength=150" t:zone="consultaSancionesZone"/>
                         </div>
                         <div class="f-left">
                            <t:label for="apellidoMaterno" />
                            <input t:type="TextField" t:id="apellidoMaterno" t:value="bapellidoMaterno" size="33" t:validate="maxlength=150"  t:zone="consultaSancionesZone"/>
                         </div>                        
                    </div> 
                    <div class="f-wrap"> 
                        <div class="f-left">
                             <t:label for="tipoDocumento"/> 
                                <select t:type="Select" t:id="tipoDocumento" t:value="bdocumentoidentidad" onChange="this.form.fire()" model="tiposDoc" />
                        </div>
                        <div class="f-left">
                            <label>Numero de Documento</label>
                            <input t:type="TextField" t:id="numeroDocumento" t:value="bnumeroDocumento" size="33" t:validate="maxlength=11" t:zone="consultaSancionesZone"/>
                         </div>  
                    </div> 
              </fieldset>
              
               <fieldset>
                   <legend>Datos de la Sancion</legend>
                   <div class="f-wrap"> 
                         <div class="f-left">
                             <t:label for="regimenLaboral"/> 
                              <select t:type="Select" t:id="regimenLaboral" t:value="bregimenLaboral" model="regimenLaboral" t:zone="consultaSancionesZone"/>
                         </div>
                         <div class="f-left">
                              <label>Categoria de Sancion</label>
                              <select t:type="Select" t:id="categoriaSancion" t:value="bcategoriaSancion"  model="categoriaSancion" t:zone="consultaSancionesZone" />
                         </div>
                         <div class="f-left">
                             <label>Tipos de Sancion</label>
                             <select t:type="Select" t:id="tiposancion" t:value="btipoSancion"  model="tipoSancion" t:zone="consultaSancionesZone"/>
                         </div>    
                   </div>
                   <fieldset>
                      <legend>Estado</legend>
                        <div class="f-wrap"> 
                                <div class="f-left">  
                                <label><input t:type="Checkbox" t:id="esVigente" t:value="esVigente" /> Vigente </label>
                                </div>
                                <div class="f-left">
                                <label><input t:type="Checkbox" t:id="esNoVigente" t:value="esNoVigente" /> No Vigente </label>
                                </div>
                                <div class="f-left">
                                    <label><input t:type="Checkbox" t:id="esSuspendida" t:value="esSuspendida" /> Suspendidas </label>
                                </div>
                                <div class="f-left">
                                    <label><input t:type="Checkbox" t:id="esAnulada" t:value="esAnulada" /> Anuladas </label>
                                </div>
                                <div class="f-left">
                                    <label><input t:type="Checkbox" t:id="esHistorica" t:value="esHistorica" /> Historicas </label>
                                </div>     
                        </div>
                    </fieldset>
                    
               </fieldset>
                <div class="f-wrap"> 
                    <div class="actions f-right">
                        <input t:id="buscarsubmit" t:type="submit" value="Buscar" class="button" />
                        <input t:type="Submit" t:id="muestra" value="Mostrar Todo" class="button"/>
                        <input t:type="Submit" t:id="limpia" value="Exportar" t:mixins="confirm" class="button"/> 
                    </div>
                </div>
          </t:form>
      </t:zone>
      
  </div>
   <br/><br/>
   
    <div t:type="zone" t:id="listaConsultaSancionZone" class="selectform" >
        <t:form t:id="formconsultaSancion" >
          
              <t:grid source="busquedaSancionados" 
                            rowsPerPage="10" 
                            t:add="Nombres,Acciones" 
                            pagerPosition="bottom"
                            row="cs"
                            reorder="Nombres,entidad_subentidad,tipo_sancion,tiempo_restante,estado,Acciones"
                            exclude="tipo_doc_trabajador,tipo_doc_persona,nro_doc_persona,nro_doc_trabajador,categoria_sancion_id,id_reg_laboral,
                                    id_tipo_sancion,estado_id,apellidos_persona,nombres_persona,apellidos_trabajador,nombres_trabajador,b_datos_persona,
                                    b_datos_trabajador,estrabajador"
                            inPlace="true">
                       <t:parameter name="empty">
                          <div class="no-info">No hay personas/trabajadores sancionados</div>
                       </t:parameter>
                        <p:nombresCell>
                            <t:if test="${cs.estrabajador}">
                                ${cs.b_datos_trabajador}
                            </t:if>
                            <t:if test="${cs.estrabajador}" negate="true">
                                ${cs.b_datos_persona}
                            </t:if>    
                        </p:nombresCell>
                        <p:accionesCell>    
                         <!--   <t:if test="${veditar}">-->
                                <t:actionlink t:id="editar" zone="listaConsultaSancionZone" context="cs">Editar</t:actionlink>
                                |
                            <!--</t:if>-->
                            <!--<t:if test="${veditar}" negate="true">-->
                                <t:actionlink t:id="detalle" zone="listaConsultaSancionZone" context="cs">Detalle</t:actionlink>
                            <!--</t:if>-->
                            <!--<t:if test="${veliminar}">  --> 
                                    | 
                                    <a t:type="eventLink" t:event="borrarDato" t:context="cs"
                                       t:zone="listaConsultaSancionZone" href="#" >
                                        <span t:type="any" t:mixins="Confirm" t:message="¿Desea eliminar el registro?">
                                            Imprimir
                                        </span> 
                                    </a>                      
                        </p:accionesCell>
                       
            </t:grid>
          
        </t:form>    
    </div>
    
     <div id="shade"></div>
      <div id="modal">           
        <h1>Selección de entidad</h1>
        <div class="pane">
            <t:zone t:id="busZone" t:update="show">
                <form t:type="form" t:id="formulariobusqueda" t:zone ="busZone">
                    <div class="f-wrap">
                        <div class="f-left">
                            <label>Denominación</label>
                            <input t:type="TextField" t:id="entida_deno" t:value="bdenoentidad" style="width: 400px;"/> 
                        </div>                   
                    </div>
                    <div class="actions f-right">
                        <input id="buscarsubmit" type="submit" value="Buscar" class="button" /> 
                        <input t:type="Submit" t:id="cancel" value="Cancelar" class="button" onClick="javascript: ocultar();"/>
                    </div> 

                </form>
                <t:grid source="entidades" rowsPerPage="6" t:add="Acciones" pagerPosition="bottom"
                                row="entio" include="denominacion" inPlace="true" t:zone="busZone">
                        <t:parameter name="empty">
                            <div class="no-info">No hay entidades generadas</div>
                        </t:parameter>
                        <p:accionesCell>                            
                            <t:actionlink t:id="seleccionar" zone="consultaSancionesZone" context="entio" onClick="javascript: ocultar();">Seleccionar</t:actionlink>                                                      
                        </p:accionesCell>
                    </t:grid> 
            </t:zone>
            <br/>
            <br/>
        </div>
            <!-- Eorigen-->
             
             <!-- Edestino-->                          
    </div>  
     <script type="text/javascript">
        var modal= document.getElementById('modal');
        var shade= document.getElementById('shade');
        function mostrar() {
        modal.style.display=shade.style.display= 'block';
        };
        function ocultar() {
        modal.style.display=shade.style.display= 'none';
        };
    </script> 
</html>
