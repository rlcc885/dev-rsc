<html t:type="layout" title="Meritos y Demeritos del Trabajador"
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd"
      xmlns:p="tapestry:parameter">

    <t:content>

      <fieldset>
          <div class="f-wrap">  
            <div t:type="zone" t:id="claseZone" >               
                    <t:form t:id="formularioclase"  zone="claseZone">                         
                           <div class="f-left" >
                                <label>* Tipo</label>
                                <input t:type="Select" t:id="clase" t:value="merito.clasemeritodemerito"
                                       model="beanClaseMerito" onChange="this.form.fire(Tapestry.FORM_PROCESS_SUBMIT_EVENT)" 
                                       t:blankOption="ALWAYS" t:zone="claseZone"/>
                            </div>
                            <div class="f-left" >
                                <label>* Tipo de Documento</label>
                                <t:if test="btipo" negate="true">
                                <input t:type="Select" t:id="tipoMerito" t:value="merito.tipomeritodemerito" 
                                       model="beanTipoMerito" onChange="this.form.fire(Tapestry.FORM_PROCESS_SUBMIT_EVENT)" 
                                      t:blankOption="ALWAYS" />
                                </t:if>
                                <t:if test="btipo" >
                                <input t:type="Select" t:id="tipoDemerito" t:value="merito.tipomeritodemerito"
                                       model="beanTipoDemerito" onChange="this.form.fire(Tapestry.FORM_PROCESS_SUBMIT_EVENT)" 
                                      t:blankOption="ALWAYS" />
                                </t:if>
                            </div>             
                    </t:form> 
            </div>
           </div>
          <br/>
              <div t:type="zone" t:id="meritosZone" >  
                    <t:form t:id="formulariomeritos"  zone="meritosZone">
          
                         <div class="f-wrap">
                           
                            <div class="f-left">
                                <label>* Motivo</label>
                                <input t:type="TextArea" t:id="motivo" 
                                         t:validate="required" t:value="merito.motivo" maxlength="255" cols="30" />
                                <label><i>(M치ximo 250 caracteres)</i></label>
                                
                            </div>
                             <div class="f-left">	
                                <label>* Fecha</label>
                                <input t:type="DateField" t:id="fecha" t:value="merito.fecha" t:validate="required"
                                       size="25" />
                             </div> 
                             
                        </div>
                 <div class="f-wrap">
                        <div class="f-right">
                                    <input t:type="Submit" t:id="guardar" value="Guardar" class="button" t:mixins="confirm" t:message="Desea ejecutar esta acci칩n?" />
                        </div>
                        </div>
                    </t:form>  
            </div> 

            <div t:type="zone" t:id="botonesMEZone" >
                <t:form t:id="formulariobotonesME"  zone="meritosZone">
                <div class="f-wrap">
                    <div class="f-right">
                        <input t:type="Submit" t:id="cancelME" value="Cancelar" class="button" t:mixins="confirm" t:message="Desea ejecutar esta acci칩n?" /> 
                    </div>
                    <div class="f-right">
                        <input t:type="Submit" t:id="resetME" value="Limpiar Formulario" class="button" t:mixins="confirm" t:message="Desea ejecutar esta acci칩n?" />  
                    </div>
                </div>
                </t:form>


            </div>
  </fieldset>
            <div class="f-wrap">                        
                (*) Campos Obligatorios
            </div>
     <br/>
     <div t:type="zone" t:id="mensajesMEZone" >
                <t:form t:id="formulariomensajesME"  zone="mensajesMEZone"> 
                    <t:envelope t:id="envelope"/>
                    <t:errors/>
                </t:form> 
     </div>
     <br/>   
 <div id = "tabla_oi">
            <t:zone t:id="listaMeritosZone">   
                <t:grid source="listadoMeritos" rowsPerPage="10" t:add="Tipo,Documento,_Fecha ,Acciones" pagerPosition="bottom"
                row="listaMeritos" exclude="id,tipomeritodemerito,clasemeritodemerito,motivo,fecha,entidad,trabajador" inPlace="true" >
                    <t:parameter name="empty">
                    <div class="no-info">No se encontraron registros</div>
                    </t:parameter>
                    <p:tipoCell>
                               <label class="datofalse">${listaMeritos.clasemeritodemerito.valor}</label>  
                    </p:tipoCell>
                    <p:documentoCell>
                               <label class="datofalse">${listaMeritos.tipomeritodemerito.valor}</label>  
                    </p:documentoCell>
                    <p:_fechaCell>
                               <label class="datofalse">${listaMeritos.fecha}</label>  
                    </p:_fechaCell>
                    <p:accionesCell>
                           <t:actionlink t:id="editarME" zone="meritosZone" context="listaMeritos">Editar</t:actionlink> | 
                           <t:actionlink t:id="eliminarME" zone="listaMeritosZone" context="listaMeritos"> 
                            <span t:type="any" t:mixins="Confirm" t:message="Desea eliminar el registro?">
                                Eliminar
                            </span>
                           </t:actionlink>   
                    </p:accionesCell>
                </t:grid>
            </t:zone>
        </div>
    </t:content>
</html>